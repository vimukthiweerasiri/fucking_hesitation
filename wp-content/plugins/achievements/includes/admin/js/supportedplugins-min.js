/*! http://wordpress.org/extend/plugins/achievements/
*//*global Socialite*/(function(e){function t(t){t.preventDefault();t.stopImmediatePropagation();var n=e("#dpa-toolbar-filter").val(),r=e("#dpa-toolbar-search").val(),i=null,s="",o=e("#post-body-content > div").prop("class");if(o.indexOf("grid")>=0){o="grid";s="#post-body-content > .grid a"}else if(o.indexOf("list")>=0){o="list";s="#post-body-content > .list tbody tr"}else if(o.indexOf("detail")>=0)return;e(s).each(function(){i=e(this);"1"===n?i.hasClass("installed")?i.addClass("showme"):i.addClass("hideme"):"0"===n?i.hasClass("notinstalled")?i.addClass("showme"):i.addClass("hideme"):i.addClass("showme")});e(s+":not(.hideme)").each(function(){i=e(this);if("grid"===o&&i.children("img").prop("alt").search(new RegExp(r,"i"))<0||"list"===o&&i.children(".name").text().search(new RegExp(r,"i"))<0||"detail"===o&&i.prop("class").search(new RegExp(r,"i"))<0){i.removeClass("showme");i.addClass("hideme")}});e(s).each(function(){i=e(this);i.hasClass("showme")?i.show():i.hasClass("hideme")&&i.hide();i.removeClass("hideme").removeClass("showme")})}e(document).ready(function(){e("#dpa-toolbar").submit(function(t){t.stopPropagation();t.preventDefault();1===e("#post-body-content > .grid a:visible").size()?window.location=e("#post-body-content > .grid a:visible").prop("href"):1===e("#post-body-content > .list tbody tr:visible").size()&&(window.location=e("#post-body-content > .list tbody tr:visible .plugin a").prop("href"))});e("#dpa-details-plugins").on("change.achievements",function(){window.location.search="post_type=achievement&page=achievements-plugins&filter=all&view=detail&plugin="+e(this.options[this.selectedIndex]).data("plugin")});e("#dpa-toolbar-filter").on("change.achievements",t);e("#dpa-toolbar-search").on("keyup.achievements",t);e("#post-body-content .list table").tablesorter({headers:{0:{sorter:!1},1:{sorter:!1},3:{sorter:!1}},textExtraction:function(e){return e.innerHTML}});e("#post-body-content .list table th").on("click.achievements","a",function(e){e.preventDefault()});Socialite.load(e("#dpa-detail-contents h3"))})})(jQuery);